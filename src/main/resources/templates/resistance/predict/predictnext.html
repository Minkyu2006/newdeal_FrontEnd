<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/default2">
<!-- 사용자 CSS 추가 -->
<th:block layout:fragment="css">
    <style>

    </style>
</th:block>
<!-- 사용자 스크립트 추가 -->
<th:block layout:fragment="script">
    <script src="/assets/js/min_js_dir/newdeal/resistance/predict/predictnext.js"></script>
    <script>
        $(function() {
            logreg(1,"데이터기반 가상모델 구축 시스템","IoT 인공지능기반 미래 예측서비스",null);

            $("#header_four").addClass(' show');

            const sensorData = JSON.parse(getCookie("sensorData"));
            if(sensorData.sensorType === "CRACK"){
                $("#sensorType").text("균열");
                $(".tableHead").html("균열 폭 기준");
                // if(sensorData.bridgeType === "RC슬래브교"){
                //
                // } else if(sensorData.bridgeType === "라멘교"){
                //
                // }else{
                //
                // }

            }else{
                $("#sensorType").text("횡변위");
                $(".tableHead").html("횡변위 폭 기준");
                $(".tableBody1").html("3mm 이하");
                $(".tableBody2").html("3mm 초과 6mm 이하");
                $(".tableBody3").html("6mm 초과 10mm 이하");
                $(".tableBody4").html("10mm 초과");
            }

            console.log(sensorData);
            console.log("sensor : "+sensorData.sensor);
            console.log("time1 : "+sensorData.time1);
            console.log("time2 : "+sensorData.time2);
            console.log("days : "+sensorData.days);
            console.log("bridgeType : "+sensorData.bridgeType);
            console.log("sensorType : "+sensorData.sensorType);
            console.log("channelNumber : "+sensorData.channelNumber);
            console.log("warningVal : "+sensorData.warningVal); // 어디에 쓰는지 모름1
            console.log("dangerVal : "+sensorData.dangerVal); // 어디에 쓰는지 모름2

            pythonSensorStep();

        });

    </script>
</th:block>
<div layout:fragment="content" class="content">
    <input type="hidden" id="backend_url" th:value="${backend_url}" readonly="readonly" />
    <input type="hidden" id="backend_protocol" th:value="${backend_protocol}" readonly="readonly" />
    <h2 class="content__heading">계측데이터의 관리기준치 설정 서비스</h2>

    <section class="section non-padding" style="margin-top: 20px;">
        <div class="section__head">
            <h3 class="section__heading">Step 3. 관리기준치 산정을 위한 신뢰도 지정</h3>
        </div>
        <div class="section__content">

            <h3 class="section__heading">고정 관리기준치(<span id="sensorType"></span>)</h3> <!-- h3(제목) css필요 -->
            <div class="talk__comment">
                <h3>* 『건설 공사 및 유지관리 계측표준시방서』 2008.2 건설교통부를 참고하여 4개의 단계로 구분하였음.</h3>
                <p>표 I - 6 관리수준에 따른 대응방안 (예시)</p>
                <table class="c-table c-table--border" style="text-align: center">
                    <colgroup>
                        <col style="width: 200px;">
                        <col>
                        <col>
                    </colgroup>
                    <thead>
                        <tr class="align--center">
                            <th>관리단계</th>
                            <th class="tableHead"></th>
                            <th>비고</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1단계(통상수준)</td>
                            <td class="tableBody1">0.3mm 이하</td>
                            <td>상태평가 기준 a, b</td>
                        </tr>
                        <tr>
                            <td>2단계(주의수준)</td>
                            <td class="tableBody2">0.3mm 초과 0.5mm 이하</td>
                            <td>상태평가 기준 c</td>
                        </tr>
                        <tr>
                            <td>3단계(경계수준)</td>
                            <td class="tableBody3">0.5mm 초과 1.0mm 이하</td>
                            <td>상태평가 기준 d</td>
                        </tr>
                        <tr>
                            <td>4단계(위험수준)</td>
                            <td class="tableBody4">1.0mm 초과</td>
                            <td>상태평가 기준 e</td>
                        </tr>
                    </tbody>
                </table>
            </div>

<!--            <h3 class="section__heading">노후화 속도판정</h3> &lt;!&ndash; h3(제목) css필요 &ndash;&gt;-->
<!--            <div id="stepChartdiv1" class="chart" style="position: relative; width: 100%; height: 400px; border: 1px solid #efefef; margin-top: 20px;">-->
<!--                <div id="actionLoadingBar1" class="c-loader" style="display:none; z-index: 10;">-->
<!--                    <div class="c-loader__active c-loader__active&#45;&#45;ring"></div>-->
<!--                </div>-->
<!--            </div>-->

            <div class="talk__comment">
                <table class="c-table c-table--border" style="text-align: center">
                    <colgroup>
                        <col style="width: 200px;">
                        <col>
                        <col>
                    </colgroup>
                    <thead>
                    <tr class="align--center">
                        <th>요소명</th>
                        <th>상한/하한</th>
                        <th>관리기준치</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td rowspan="2">주의수준 관리기준치</td>
                        <td>상한</td>
                        <td id="CI_Lv1_1"></td>
                    </tr>
                    <tr>
                        <td>하한</td>
                        <td id="CI_Lv1_2"></td>
                    </tr>
                    <tr>
                        <td rowspan="2">위험수준 관리기준치</td>
                        <td>상한</td>
                        <td id="CI_Lv2_1"></td>
                    </tr>
                    <tr>
                        <td>하한</td>
                        <td id="CI_Lv2_2"></td>
                    </tr>
                    </tbody>
                </table>
            </div>

<!--                히틉맵차트 레이터 테스트 Div-->
<!--                <div style="position: absolute;border: 3px;background-color: black;opacity: 0.1;width: 94%;top: 300px;height: 300px;left: 70px;">-->


            <h3 class="section__heading">정제 데이터(환경변수 보정)</h3><!-- h3(제목) css필요 -->
            <div id="stepChartdiv2" class="chart" style="position: relative; width: 100%; height: 400px; border: 1px solid #efefef; margin-top: 20px;">
<!--                <div class="chart__empty" id="chartdiv2_font">-->
<!--                    <p id="chartdiv1_ex">조회 할 센서를 선택해주세요.</p>-->
<!--                </div>-->
                <div id="actionLoadingBar2" class="c-loader" style="display:none; z-index: 10;">
                    <div class="c-loader__active c-loader__active--ring"></div>
                </div>
            </div>

            <!-- 여기 css필요 -->
            <p>최적확률분포는 <span id="best_dist_name"></span>로 선정</p>

            <!-- 여기 css필요 -->
            <p id="speedStyle1">노후화 속도 :  <span id="state"></span></p>

            <h3 class="section__heading">노후화 속도보정 관리기준치산정</h3><!-- h3(제목) css필요 -->
            <div class="talk__comment">
                <table class="c-table c-table--border" style="text-align: center">
                    <colgroup>
                        <col style="width: 200px;">
                        <col>
                        <col>
                        <col>
                        <col>
                    </colgroup>
                    <thead>
                    <tr class="align--center">
                        <th>관리단계</th>
                        <th class="tableHead"></th>
                        <th>노후화속도</th>
                        <th>노후화속도에 따른 보정</th>
                        <th>보정 관리기준치</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>1단계(통상수준)</td>
                        <td class="tableBody1">0.3mm 이하</td>
                        <td id="state2" style="font-size: 40px" rowspan="4"></td>
                        <td >+0.1mm(예시)</td>
                        <td >0.4mm 이하</td>
                    </tr>
                    <tr>
                        <td>2단계(주의수준)</td>
                        <td class="tableBody2">0.3mm 초과 0.5mm 이하</td>
                        <td >+0.1mm(예시)</td>
                        <td >0.4mm 초과 0.6mm 이하</td>
                    </tr>
                    <tr>
                        <td>3단계(경계수준)</td>
                        <td class="tableBody3">0.5mm 초과 1.0mm 이하</td>
                        <td >+0.1mm(예시)</td>
                        <td >0.6mm 초과 1.1mm 이하</td>
                    </tr>
                    <tr>
                        <td>4단계(위험수준)</td>
                        <td class="tableBody4">1.0mm 초과</td>
                        <td >+0.1mm(예시)</td>
                        <td >1.1mm 초과</td>
                    </tr>
                    </tbody>
                </table>

                <!-- 여기 css필요 -->
                <p>본 결과는 교량의 계측관리를 위한 참고용 자료로 활용할 수 있음.</p>
                <p>보정관리기준치는 온도에 따른 영향을 고정관리기준치에 추가하여 산정하였음.</p>
            </div>

        </div>
    </section>


    <div class="talk__console">
        <ul>
            <li>
                <button class="c-button c-button--point" onclick="predictBeforePage()">이전 단계로</button>
                <button class="c-button c-button--point" onclick="developing()">다음 단계로</button>
            </li>
        </ul>
    </div>
</div>
</html>