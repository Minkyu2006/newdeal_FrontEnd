<div class="talk">
	<form id="fileSendForm" enctype="multipart/form-data">
	<div class="talk__box">
		<div class="talk__header">
			<h3>Step 2. 추진하실 사업의 정보를 입력합니다.</h3>
		</div>
		<div class="talk__contents">
			<div class="talk__upload">
				<div class="talk__guide">
					<h4>* 엑셀파일 입력 작성 가이드</h4>
					<ul>
						<li>1. 업로드 할 파일은 제공해드린 파일만 업로드해주시길 바랍니다.(파일양식은 하단에 양식 다운로드)</li>
						<li>2. 대안1,대안2에 각각 업로드할 대안들을 작성해주세요.</li>
						<li>3. 작성하실 대안의 열에 파랑색으로 표기된 셀은 필수적으로 입력하셔야 합니다.</li>
						<li>4. 대안은 최대 4개까지만 등록 가능합니다.</li>
						<li>5. 구체적인 입력 방법은 제공해 드린 양식에 포함된 입력방법 sheet를 참조해 주세요</li>
						<li>6. 5번이 이해가 안되시면 2번시트를 참고하여 작성해주시길 바랍니다.</li>
						<li>7. 제공해드린 양식파일이 아닌 파일은 업로드할 수 없습니다.</li>
					</ul>
				</div>
				<div class="talk__file">
					<ul>
						<li>
							<!-- href에 다운로드 할 파일 경로 삽입 -->
							<a href="https://newdealexcel.s3.ap-northeast-2.amazonaws.com/excelform.xlsx" class="talk__download c-button">입력 파일 양식 다운로드</a>
						</li>
						<li>
							<div class="c-file">
								<input type="text" class="c-file__input" readonly="readonly" />
								<label class="c-file__button" style="text-align: center;" >업로드
										<input type="file" id="excelfile"  name="excelfile" />
								</label>
							</div>
						</li>
					</ul>
				</div>				
			</div>
		</div>
	</div>

	<div class="talk__box">
		<div class="talk__header">
			<h3>Step 3. 사업평가 지표의 가중치를 설정합니다.</h3>
		</div>
		<div class="talk__contents">
			<div class="weight">
				<div class="weight__head">
					<h4 class="weight__heading">사업평가에 적용할 가중치를 입력합니다. <br />성능개선 유형을 선택하시면 각 유형별 표준가중치와 최소-최대 범위를 불러옵니다. 수정시 가중치의 합은 1이 되어야 합니다.</h4>
					<div class="talk__select">
						<div class="c-select">
							<select id="weight_Category" name="weight_Category" class="c-select__input">
								<option value="">유형을 선택해주세요.</option>
								<option value="노후화대응">노후화 대응</option>
								<option value="기준변화">기준 변화</option>
								<option value="사용성유형">사용성 유형</option>
							</select>
						</div>
					</div>
				</div>
				<div class="weight__contents">
					<table class="c-table c-table--border">
						<colgroup>
							<col />
							<col />
							<col />
							<col />
							<col />
							<col />
						</colgroup>
						<thead>
						<tr>
							<th>성능개선 유형</th>
							<th>항목</th>
							<th>표준 가중치</th>
							<th>최소 가중치</th>
							<th>최대 가중치</th>
							<th>비고</th>
						</tr>
						</thead>
						<tbody>
						<tr>
							<th id="choseCategory" rowspan="4">선택된 유형</th>
							<th>기술성</th>
							<td>
								<div class="c-text">
									<input type="number"  id="piWeightTechnicality" name="piWeightTechnicality" class="c-text__input" />
								</div>
							</td>
							<td>최소값</td>
							<td>최대값</td>
							<th rowspan="4" style="color: red;text-align: center">해당 가중치는 0.05수준까지<br>가감할 수 있습니다.</th>
						</tr>
						<tr>
							<th>경제성</th>
							<td>
								<div class="c-text">
									<input type="number" id="piWeightEconomy"  name="piWeightEconomy" class="c-text__input" />
								</div>
							</td>
							<td>최소값</td>
							<td>최대값</td>
						</tr>
						<tr>
							<th>정책성</th>
							<td>
								<div class="c-text">
									<input type="number" id="piWeightPolicy"  name="piWeightPolicy" class="c-text__input" />
								</div>
							</td>
							<td>최소값</td>
							<td>최대값</td>
						</tr>
						</tbody>
					</table>
					
					<div class="talk__comment">
						비고 : 가중치 설정방법 및 제안 가중치의 활용<br />
						각 평가항목 및 세부지표의 가중치는 사업의 목적과 특성을 고려하여 관리주체가 자체적으로 설정할 수 있습니다. 적절한 가중치 설정이 어려운 경우 본 평가방법 개발과정에서 실무자, 전문가의 의견을 반영하여 제안한 표준가중치와 조정범위를 참조하여 적용할 것을 권장합니다. 
					</div>
				</div>

			</div>
			
			<div class="weight">
				<div class="weight__head">
					<h4 class="weight__heading">가중치를 수정하시겠습니까?</h4>
					<ul class="c-radio-group">
						<li class="c-radio-group__item">
							<div class="c-radio">
								<input type="radio" class="c-radio__input" onclick="weightRadioBtn(value)" id="group1" value="yes" />
								<label for="group1" class="c-radio__label">Yes</label>
							</div>
						</li>
						<li class="c-radio-group__item">
							<div class="c-radio">
								<input type="radio" class="c-radio__input" onclick="weightRadioBtn(value)" id="group2" value="no"  />
								<label for="group2" class="c-radio__label">No</label>
							</div>
						</li>
					</ul>
				</div>

				<div class="weight__contents">
					<table class="c-table c-table--border">
						<colgroup>
							<col />
							<col />
							<col />
						</colgroup>
						<thead>
							<tr>
								<th>평가지표</th>
								<th>항목</th>
								<th>표준 가중치
									<div class="c-tooltip">?
										<span class="c-tooltip__text">
											<ul>
												<li>1. 표준 가중치 사용을 권장하며, 변경시 최소~최대 가중치 범위내로 지정되어야 합니다.</li>
												<li>2. 기술성 / 경제성 / 정책성의 각 가중치의 합은 1이 되어야 합니다.</li>
												<li>3. 사용성은 교량, 터널, 지하차도에 한해 평가합니다. 그외 시설은 반드시 0을 입력합니다.</li>
												<li>4. 평가에서 제외하고 싶은 항목은 0을 입력합니다.</li>
											</ul>
										</span>
									</div>
								</th>
								<th>최소 가중치</th>
								<th>최대 가중치</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<th rowspan="5">기술성</th>
								<th>안정성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightSafe" name="piWeightSafe" class="c-text__input" placeholder="0.65" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.6" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.9" readonly="readonly" />
									</div>
								</td>
							</tr>
							<tr>
								<th>사용성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightUsability" name="piWeightUsability" class="c-text__input" placeholder="0.05" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.1" readonly="readonly" />
									</div>
								</td>
							</tr>
							<tr>
								<th>노후도</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightOld"  name="piWeightOld" class="c-text__input" placeholder="0.2" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.2" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.5" readonly="readonly" />
									</div>
								</td>
							</tr>
							<tr>
								<th>시급성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightUrgency"  name="piWeightUrgency" class="c-text__input" placeholder="0.05" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.2" readonly="readonly" />
									</div>
								</td>
							</tr>
							<tr>
								<th>목표달성도</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightGoal"  name="piWeightGoal" class="c-text__input" placeholder="0.05" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.2" readonly="readonly" />
									</div>
								</td>
							</tr>

							<tr>
								<th rowspan="2">경제성</th>
								<th>안전효용 개선 효율성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightSafeUtility"  name="piWeightSafeUtility" class="c-text__input" placeholder="0.7" readonly="readonly" />
									</div>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.6" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.8" readonly="readonly" />
									</div>
								</td>
								</td>
							</tr>
							<tr>
								<th>자산가치 개선 효율성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightCostUtility"  name="piWeightCostUtility" class="c-text__input" placeholder="0.3" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.2" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.4" readonly="readonly" />
									</div>
								</td>
							</tr>

							<tr>
								<th rowspan="3">정책성</th>
								<th>사업추진 타당성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightBusiness"  name="piWeightBusiness" class="c-text__input" placeholder="0.7" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.6" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.8" readonly="readonly" />
									</div>
								</td>
							</tr>
							<tr>
								<th>민원 및 사고 대응성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightComplaint"  name="piWeightComplaint" class="c-text__input" placeholder="0.2" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.1" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.3" readonly="readonly" />
									</div>
								</td>
							</tr>
							<tr>
								<th>사업효과 범용성</th>
								<td>
									<div class="c-text">
										<input type="number" id="piWeightBusinessEffect"  name="piWeightBusinessEffect" class="c-text__input" placeholder="0.1" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.05" readonly="readonly" />
									</div>
								</td>
								<td>
									<div class="c-text">
										<input type="text" class="c-text__input" style="color: black" value="0.2" readonly="readonly" />
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="weight__contents">
					<table class="c-table c-table--border">
						<colgroup>
							<col />
							<col />
						</colgroup>
						<thead>
							<tr>
								<th>항목</th>
								<th>사업추진 임계점수</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<th>사업성 판단기준</th>
								<td>
									<input type="number" id="piWeightCriticalScore" name="piWeightCriticalScore" class="c-text__input" placeholder="50" readonly="readonly" />
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	</form>

	<div class="talk__console">
		<ul>
			<li><button class="c-button" onclick="movePage('/performance/performance1')">BEFORE</button></li>
			<li><button onclick="filesend()" class="c-button c-button--point">성능개선 사업성 평가 실행</button></li>
		</ul>
	</div>
</div>

<script>
	$(function() {
		// 업로드할 파일명 불러오기
		$('#excelfile').change(function() {
			const file = $(this).val().split('\\').pop();
			$('.c-file__input').val(file);
		});

		$('#group2').prop("checked", true);

		document.getElementById("weight_Category").onchange = function(){
			const $weight_Category = $("#weight_Category").val();
			console.log("$weight_Category : "+$weight_Category);
			const $choseCategory = $("#choseCategory");
			const $piWeightTechnicality = $("#piWeightTechnicality");
			const $piWeightEconomy = $("#piWeightEconomy");
			const $piWeightPolicy = $("#piWeightPolicy");

			if($weight_Category==="노후화대응"){
				$choseCategory.text("노후화 대응");
				$piWeightTechnicality.val(0.8);
				$piWeightEconomy.val(0.1);
				$piWeightPolicy.val(0.1);
			}else if($weight_Category==="기준변화") {
				$choseCategory.text("기준 변화");
				$piWeightTechnicality.val(0.2);
				$piWeightEconomy.val(0.7);
				$piWeightPolicy.val(0.1);
			}else if($weight_Category==="사용성유형") {
				$choseCategory.text("사용성 유형");
				$piWeightTechnicality.val(0.1);
				$piWeightEconomy.val(0.6);
				$piWeightPolicy.val(0.3);
			}else{
				$choseCategory.text("선택된 유형");
				$piWeightTechnicality.val();
				$piWeightEconomy.val();
				$piWeightPolicy.val();
			}
		}

	});
</script>